"use strict";require(["config"],function(){require(["jquery","header","cookie"],function(i,e){new Promise(function(e,t){i("header").load("/html/component/header.html",function(){e()}),i("footer").load("/html/component/footer.html")}).then(function(){var n=i("#username"),o=i("#pwd"),e=i("#form .inp");console.log(111);var a=!1,r=/^\w+$/,s=/^.{6,}$/;e.focus(function(){""==i(this).val()&&i(this).next().hide()}),e.blur(function(){switch(this.id){case"username":var e=n.val();r.test(e)?(n.next().hide(),a=!0):(a=!1,n.next().show());break;case"pwd":var t=o.val();a=s.test(t)?(o.next().hide(),!0):(o.next().show(),!1)}}),i("#form").submit(function(e){if(e=e||event,a){var t={username:i("#username").val(),pwd:i("#pwd").val()};i.ajax({method:"post",data:t,dataType:"json",url:"http://localhost/langier/app/php/login.php",success:function(e){console.log(username),1===e.code?(i.cookie("username",t.username,{expires:7,path:"/"}),location.href="/"):alert("登录失败，请输入正确的账号密码！")}})}else alert("请填写完整信息");return e.preventDefault(),!1})})})});