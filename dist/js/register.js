"use strict";require(["config"],function(){require(["jquery","header"],function(n,e){new Promise(function(e,t){n("header").load("/html/component/header.html",function(){e()}),n("footer").load("/html/component/footer.html")}).then(function(){var o=n("#username"),i=n("#pwd"),l=n("#repwd"),r=n("#tel"),s=n("#imail"),e=(n("#btn"),n("#form .inp")),t=n("#check"),h=0,c=/^\w+$/,d=/^.{6,}$/,p=/^1[34578]\d{9}$/,u=/\w+@[a-z0-9]+\.[a-z]+/i;e.focus(function(){""==n(this).val()&&n(this).next().hide()}),e.blur(function(){switch(this.id){case"username":var e=o.val();c.test(e)?(o.next().hide(),h++):o.next().show();break;case"pwd":var t=i.val();d.test(t)?(i.next().hide(),h++):i.next().show();break;case"repwd":t=i.val();l.val()===t?(l.next().hide(),h++):l.next().show();break;case"tel":var a=r.val();p.test(a)?(r.next().hide(),h++):r.next().show();break;case"imail":var n=s.val();u.test(n)?(s.next().hide(),h++):s.next().show()}});var a=!1;t.change(function(){this.checked?(a=!0,n("#complete-off").hide(),n("#complete").show()):(n("#complete-off").show(),n("#complete").hide(),a=!1)}),n("#form").submit(function(e){if(e=e||event,5<=h&&a){var t={username:n("#username").val(),pwd:n("#pwd").val(),repwd:n("#repwd").val(),tel:n("#tel").val(),imail:n("#imail").val()};n.ajax({method:"post",data:t,dataType:"json",url:"http://localhost/langier/app/php/register.php",success:function(e){e.exist?alert("用户名已经存在！"):1===e.code&&(location.href="http://localhost:9999/html/success.html")}})}else alert("请填写完整信息");return e.preventDefault(),!1})})})});