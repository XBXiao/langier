"use strict";require(["config"],function(){require(["jquery","header","lunbo","template"],function(r,n,e,s){new Promise(function(e,t){r("header").load("/html/component/header.html",function(){n.init(),e()}),r("footer").load("/html/component/footer.html")}).then(function(){}).then(function(){var e=r.cookie("cart"),t=JSON.parse(e);console.log(t);var n=s("cart-template",{carts:t});r("tbody").html(n);var c=0;r("select").on("change",r("select option"),function(){var e=r(this).find("option:selected").html(),t=r(this).parents(".carts").find(".price").find("span").html();console.log(e),console.log(t),r(this).parents(".carts").find(".final-price").find("span").html(e*t)}),r(".delete1").click(function(){if(confirm("确定要删除该商品吗？")){var n=JSON.parse(r.cookie("cart"));console.log(r(this).parents(".carts")),r(this).parents(".carts").remove();var c=r(this).attr("data-id");n.forEach(function(e,t){e.id==c&&n.splice(t,1)}),r.cookie("cart",JSON.stringify(n),{path:"/",expires:7})}});var i=0,o=r("#all"),a=r(".inputs");o.change(function(){i=this.checked?(a.each(function(){this.checked=!0}),a.length):(a.each(function(){this.checked=!1}),0)}),a.change(function(){var e=parseInt(r(this).parents(".carts").find(".final-price").find("span").html());1==this.checked?(i++,c+=e):(i--,c-=e),i===a.length?o[0].checked=!0:o[0].checked=!1,r("#allprice").html(c),console.log(c)})})})});